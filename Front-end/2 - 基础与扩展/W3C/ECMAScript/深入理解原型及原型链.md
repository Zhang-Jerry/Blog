> Javascript 是面向对象语言，但不同于 C++、Java 等基于**类**的实现原理，JS 的面向对象和继承都是基于**原型链**实现的。本文就将深入浅出的对其实现原理进行分析。

## 1. 语言特性
开始剖析原理前，需要记住几个 JS 语言层面的特性：

* 特性1：**函数都是对象**，其实引用类型(function、object、array)都是对象； —— 可由 typeof 和 instanceof 验证
* 特性2：**函数都有一个 prototype 属性**； —— 属性值是一个对象，称为“原型对象” 
* 特性3：**对象都是函数创建的，对象都是属性的集合**； —— {} 等形式只是语法糖；
* 特性4：**对象都有一个 \_\_proto__ 属性**； —— 即“隐式原型”，属性值指向创建该对象的函数的“原型对象”；

## 2. 函数与对象的关系
上边提到“函数都是对象”、“对象都是函数创建的”，那么二者到底什么关系呢？  

一种常见的创建对象的方式如下：

    var foo = new Fn()

通常，我们称`Fn`为构造**函数**，`foo`为实例**对象**。

通过上述特性可知：      
**构造函数**也是函数，所以它也有一个`prototype`属性，属性值是一个对象，称为该函数的**原型对象**。       
**实例对象**也是对象，所以它也有一个`__proto__`属性，属性值也是**原型对象**。       
此外，**原型对象**默认有一个`constrcutor`属性，指向**构造函数**。       

即以下关系是成立的：

* foo.\_\_proto__ === Fn.prototype
* Fn.prototype.constructor = Fn

实例对象、构造函数、原型对象 三者间的关系如下图：

![微信图片_20200713195715](https://raw.githubusercontent.com/jerryzhangjie/image-database/master/picgo/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20200713195715.jpg)

上图中原型对象(Fn.prototype)也是对象，那么它的 \_\_proto__ 属性值是什么呢？

其实，自定义函数的 prototype 本质上和 var obj = {} 是一样的，都是被 Object 函数创建，所以它的__proto__指向的就是Object.prototype。但Object.prototype比较特殊，它的__proto__指向null。

![181637013624694](https://raw.githubusercontent.com/jerryzhangjie/image-database/master/picgo/181637013624694.png)

## 3. 原型链与继承


## 4. 几种常见的继承实现
1. 原型链继承

2. 构造函数继承

3. 组合继承


## 5. 参考
[深入理解javascript原型和闭包](https://www.cnblogs.com/wangfupeng1988/p/3977924.html)