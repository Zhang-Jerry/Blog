<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #container{
            position: relative;
            width: 600px;
            height: 600px;
            background: green;
        }

        #center{
            background: red;
            width: 200px;
            height: 200px;
            position:absolute;
            margin:auto;
            top:0;
            bottom:0;
            left:0;
            right:0;
        }
    </style>
</head>

<body>
    <div id="container">
        <div id="center"></div>
    </div>

    <script>
        // 方法一：ES6 flat方法 参数默认为1 - 展平一层，Infinity - 无论几层都展成一维。
        function flatten1(array) {
            return array.flat(Infinity)
        }
   
        // 方法二：递归
        // 普通递归
        function flatten2(array) {
            let result = []
            array.forEach((item, i) => {
                if (Array.isArray(item)) {
                    result = result.concat(flatten2(item))
                } else {
                    result.push(item)
                }
            })
            return result
        }

        // reduce递归
        function flatten3(array) {
            return array.reduce((resultArray, currentValue) => {
                currentValue = Array.isArray(currentValue) ? flatten3(currentValue) : currentValue
                return resultArray.concat(currentValue)
            }, [])
        }

        // 方法三：解构运算符 + concat ...   
        // 利用...可以将最外层数组转为逗号分隔的参数序列
        // 利用concat可以实现将多个参数拼接到数组上 [1,2].concat(3, 4) -> [1,2,3,4]
        function flatten4(array) {
            while (array.some(item => Array.isArray(item))) {
                array = [].concat(...array)
            }
            return array
        }

        // 方法四：toString()  利用其能将数组变成以逗号分隔的字符串特性 [1, [2, [3, [4, 5]]]].toString() -> '1,2,3,4,5'  缺点：仅适用纯数字组成的数组
        function flatten5(array) {
            let str = array.toString()          // '1,2,3,4,5'
            let strArray = str.split(',')       // ['1', '2', '3', '4', '5']
            strArray = strArray.map(item => +item)    // 隐式类型转换，字符串 -> 数字
            return strArray
        }

        let ar = flatten5([1,2,[3,4,[5,6]]])
        console.log(ar)
    </script>
</body>

</html>