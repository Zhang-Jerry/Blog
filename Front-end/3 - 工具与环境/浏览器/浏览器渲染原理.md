## 浏览器渲染原理

1. HTML代码转化为DOM；
2. CSS代码转化为CSSOM（CSS Object Model）；
3. 两种树结合，生成一课渲染树Render Tree（包含每个节点的视觉信息，可以想象成是个三维的树）；
4. 生成布局（layout），即将渲染树的所有节点进行平面排布（flow）（可以想象成是三维树排布成平面树，若再次触发这种排布，就称为重排或回流）；
5. 将布局绘制（print）在屏幕上（若再次触发这种绘制，就称为重绘）
注：
1. 1-3很快，耗时的是4和5，4和5合起来称为“渲染”
2. 重排一定重绘，重绘不一定重排
3. dom操作很消耗性能的原因：a.涉及JS引擎和渲染引擎跨线程的通信; b.会频繁触发重排和重绘。

## 常见浏览器内核
浏览器内核分为两部分：渲染引擎和JS引擎。一般讲浏览器内核都是指渲染引擎。        

| 浏览器 | 渲染引擎 | JS引擎
|----|---- | ----
| IE -> Edge | Trident -> EdgeHTML | JScript
| FireFox | Gecko | JaegerMonkey
| Safari | Webkit | Nitro
| Chrome | Webkit -> Blink | V8
| Opera | Presto -> Blink | Carakan

`js`加载会阻塞吗？
1. 会阻塞`dom树`的解析（生成dom树）。

`css`加载会阻塞吗？
1. 与`html`加载是并行的；
2. 不会阻塞`dom树`的解析（生成dom树）；
3. 会阻塞`dom树`的渲染（生成渲染树）；
4. 会阻塞后边`js`的执行。

减少白屏，应提高css加载速度：
1. 使用`CDN`；
2. 进行压缩（`webpack`、`gulp`等进行打包，或开启`gzip`压缩）；
3. 合理使用缓存（设置cache-control、expires、e-tag）；
4. 减少请求数（合并资源）。

DOMContentLoaded 与 load 区别？
* `load`：等待页面所有资源加载完成才会触发，包括css、js、图片等；
* `DOMContentLoaded`